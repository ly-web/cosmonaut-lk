<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml'>
    <head>
        <meta http-equiv='Content-Type' content='text/html; charset=GB2312'/>
        <link type='text/css' href='c_000.css' rel='stylesheet'/>
        <script src='j_001.js' type='text/javascript'></script>
        <style type='text/css'>
        tr{height:27px;}
        .td1{text-align:left;padding-left:40px;}
        .td2{text-align:right;padding-right:5px;}
        .td3{text-align:right;padding-right:40px;}
        .backcolor{background-color:#FF9500;}
        .color1{color:#FF9500;font-weight: bold;}
        .color2{color:#888;font-weight: bold;}
        .color3{color:#444;font-weight: bold;}
        </style>
    </head>
    <script type="text/javascript" src="jquery.min.js"></script>
<body onload='Init();'>
        <div style='width:100%;' id='fault_code'></div>
        <div class='blank'></div>
        <div class='title' style='width:90%;'>
        <div class='subtitle'>
            <div class='r1 backcolor'></div>
            <div class='r2 backcolor'></div>
            <div class='r3 backcolor'></div>
            <div class='r4 backcolor'></div>
            <div class='content backcolor subcontent'>
                <span id='N060'></span>
            </div>
            <div class='r4 backcolor'></div>
            <div class='r3 backcolor'></div>
            <div class='r2 backcolor'></div>
            <div class='r1 backcolor'></div>
            <div class='line_short'></div>
        </div>
        </div>
        <table width='90%' border='0'>
            <tr>
                <td class='td1 odd' width='20%'><span class='color2'>▲</span></td>
                <td class='td3 odd' width='30%'><span class='color1' id='ST0'></span></td>
                <td class='td1 odd' width='20%'><span class='color2'>▲</span></td>
                <td class='td3 odd' width='30%'><span class='color1' id='ST1'></span></td>
            </tr>
            <tr>
                <td class='td1 even' width='20%'><span class='color2'>▲</span></td>
                <td class='td3 even' width='30%'><span class='color1' id='ST2'></span></td>
                <td class='td1 even' width='20%'><span class='color2'>▲</span></td>
                <td class='td3 even' width='30%'><span class='color1' id='ST3'></span></td>
            </tr>
            <tr>
                <td class='td1 odd' width='20%'><span class='color2'>▲</span></td>
                <td class='td3 odd' width='30%'><span class='color1' id='ST4'></span></td>
                <td class='td1 odd' width='20%'><span class='color2'>▲</span></td>
                <td class='td3 odd' width='30%'><span class='color1' id='ST5'></span></td>
            </tr>
            <tr>
                <td class='td1 even' width='20%'><span class='color2'>▲</span></td>
                <td class='td3 even' width='30%'><span class='color1' id='ST6'></span></td>
                <td class='td1 even' width='20%'><span class='color2'>▲</span></td>
                <td class='td3 even' width='30%'><span class='color1' id='ST7'></span></td>
            </tr>
            <tr>
                <td class='td1 odd' width='20%'><span class='color2'>▲</span></td>
                <td class='td3 odd' width='30%'><span class='color1' id='ST8'></span></td>
                <td class='td1 odd' width='20%'><span class='color2'>▲</span></td>
                <td class='td3 odd' width='30%'><span class='color1' id='ST9'></span></td>
            </tr>
            <tr>
                <td class='td1 even' width='20%'><span class='color2'>▲</span></td>
                <td class='td3 even' width='30%'><span class='color1' id='ST10'></span></td>
                <td class='td1 even' width='20%'><span class='color2'>▲</span></td>
                <td class='td3 even' width='30%'><span class='color1' id='ST11'></span></td>
            </tr>
            <tr>
                <td class='td1 odd' width='20%'><span class='color2'>▲</span></td>
                <td class='td3 odd' width='30%'><span class='color1' id='ST12'></span></td>
                <td class='td1 odd' width='20%'><span class='color2'>▲</span></td>
                <td class='td3 odd' width='30%'><span class='color1' id='ST13'></span></td>
            </tr>
            <tr>
                <td class='td1 even' width='20%'><span class='color2'>▲</span></td>
                <td class='td3 even' width='30%'><span class='color1' id='ST14'></span></td>
                <td class='td1 even' width='20%'><span class='color2'>▲</span></td>
                <td class='td3 even' width='30%'><span class='color1' id='ST15'></span></td>
            </tr>
            <tr>
                <td class='td1 odd' width='20%'><span class='color2'>▲</span></td>
                <td class='td3 odd' width='30%'><span class='color1' id='ST16'></span></td>
                <td class='td1 odd' width='20%'><span class='color2'>▲</span></td>
                <td class='td3 odd' width='30%'><span class='color1' id='ST17'></span></td>
            </tr>
            <tr>
                <td class='td1 even' width='20%'><span class='color2'>▲</span></td>
                <td class='td3 even' width='30%'><span class='color1' id='ST20'></span></td>
                <td class='td1 even' width='20%'><span class='color2'>▲</span></td>
                <td class='td3 even' width='30%'><span class='color1' id='ST21'></span></td>
            </tr>
            <tr>
                <td class='td1 odd' width='20%'><span class='color2'>▲</span></td>
                <td class='td3 odd' width='30%'><span class='color1' id='ST22'></span></td>
                <td class='td1 odd' width='20%'><span class='color2'>▲</span></td>
                <td class='td3 odd' width='30%'><span class='color1' id='ST23'></span></td>
            </tr>
            <tr>
                <td class='td1 even' width='20%'><span class='color2'>▲</span></td>
                <td class='td3 even' width='30%'><span class='color1' id='ST24'></span></td>
                <td class='td1 even' width='20%'><span class='color2'>▲</span></td>
                <td class='td3 even' width='30%'><span class='color1' id='ST25'></span></td>
            </tr>
            <tr>
                <td class='td1 odd' width='20%'><span class='color2'>▲</span></td>
                <td class='td3 odd' width='30%'><span class='color1' id='ST26'></span></td>
                <td class='td1 odd' width='20%'><span class='color2'>▲</span></td>
                <td class='td3 odd' width='30%'><span class='color1' id='ST27'></span></td>
            </tr>
        </table>
        <div class='line_long'></div>
        <div class='btm_blank'></div>
        <!--[if IE 6]><script type='text/javascript'>document.execCommand('BackgroundImageCache',false,true);</script><![endif]-->
    </body>
    <script type='text/javascript'>
        window.history.forward(1);
        var language=0;
        var Json;
        var lang=
        {		
            N060:['告警信息','Alarm Information'],
            N061:['告警&nbsp;','Alarm&nbsp;'],
            N062:['储能逆变器故障告警','PCS Fault Alarm'],
            N063:['储能逆变器通讯故障告警','PCS Comm Fault Alarm'],
            N064:['光伏逆变器故障告警','PV Fault Alarm'],
            N065:['光伏逆变器通讯故障告警','PV Comm Fault Alarm'],
            N066:['电网侧接触器告警','Grid-side Contact Alarm'],
            N067:['微网侧接触器告警','MG-side Contact Alarm'],
            N068:['储能逆变器交流未连接','PCS AC-side Disconnect'],
            N069:['一组或多组电池电量低','One or More Low Battery'],
            N070:['一组或多组电池电量高','One or More High Battery'],
            N071:['BMS通讯故障告警','BMS Comm Fault Alarm '],
            N072:['BMS故障告警','BMS Fault Alarm'],
            N073:['BMS告警','BMS Alarm'],
            N074:['DCDC故障告警','DCDC Fault Alarm'],
            N075:['DCDC通讯故障告警','DCDC Comm Fault Alarm'],
            N076:['DSP通讯故障告警','DSP Comm Fault Alarm'],
            N077:['电表通讯故障告警','Ammeter Comm Fault Alarm'],
            N078:['汇流箱通讯故障告警','PVS Comm Fault Alarm'],
            N079:['环境检测仪通讯故障告警','Env-Detector Comm Fault Alarm'],
            N080:['',''],
            N081:['',''],
            N082:['节点1告警','Node 1 Alarm'],
            N083:['节点2告警','Node 2 Alarm'],
            N084:['节点3告警','Node 3 Alarm'],
            N085:['节点4告警','Node 4 Alarm'],
            N086:['节点5告警','Node 5 Alarm'],
            N087:['节点6告警','Node 6 Alarm'],
            N088:['节点7告警','Node 7 Alarm'],
            N089:['节点8告警','Node 8 Alarm'],
            N090:['',''],
            N091:['',''],
            N092:['',''],
            N093:['',''],
            N094:['',''],
            N095:['',''],
            N096:['','']
        };

        //测试
        Json={ID_0x0301:85,ID_0x0154:0xfff0f1f1};

        function jquery_ajax()
        {
            var i=0;
            var Acode=new Array(1);
            //$.ajax({
            //    url:"s_039.html?",
            //    type:"get",
            //    contentType:"application/json;charset=utf-8",
            //    data:JSON.stringify({
            //        "time":new Date()
            //    }),
            //    dataType:"json",
            //    success:function(data){
                    //Json={"ID_0x0301":"85","ID_0x0154":"0xffffffff"};
            //      Json = data;         
                    if(Json.ID_0x0301==0x55)language=0;else language=1;
                    document.getElementById('N060').innerHTML=lang.N060[language];
                    document.getElementById('ST0').innerHTML=lang.N062[language];
                    document.getElementById('ST1').innerHTML=lang.N063[language];
                    document.getElementById('ST2').innerHTML=lang.N064[language];
                    document.getElementById('ST3').innerHTML=lang.N065[language];
                    document.getElementById('ST4').innerHTML=lang.N066[language];
                    document.getElementById('ST5').innerHTML=lang.N067[language];
                    document.getElementById('ST6').innerHTML=lang.N068[language];
                    document.getElementById('ST7').innerHTML=lang.N069[language];
                    document.getElementById('ST8').innerHTML=lang.N070[language];
                    document.getElementById('ST9').innerHTML=lang.N071[language];
                    document.getElementById('ST10').innerHTML=lang.N072[language];
                    document.getElementById('ST11').innerHTML=lang.N073[language];
                    document.getElementById('ST12').innerHTML=lang.N074[language];
                    document.getElementById('ST13').innerHTML=lang.N075[language];
                    document.getElementById('ST14').innerHTML=lang.N076[language];
                    document.getElementById('ST15').innerHTML=lang.N077[language];
                    document.getElementById('ST16').innerHTML=lang.N078[language];
                    document.getElementById('ST17').innerHTML=lang.N079[language];
                    document.getElementById('ST20').innerHTML=lang.N082[language];
                    document.getElementById('ST21').innerHTML=lang.N083[language];
                    document.getElementById('ST22').innerHTML=lang.N084[language];
                    document.getElementById('ST23').innerHTML=lang.N085[language];
                    document.getElementById('ST24').innerHTML=lang.N086[language];
                    document.getElementById('ST25').innerHTML=lang.N087[language];
                    document.getElementById('ST26').innerHTML=lang.N088[language];
                    document.getElementById('ST27').innerHTML=lang.N089[language];

                    Acode[0]=Json.ID_0x0154;

                    for(i=0;i<32;i++)
                    {
                        if(i==0 || i==1 || i==2 || i==3 || i==4 || i==5 || i==6 || i==7 || i==8 || i==9 || i==10 || i==11 || i==12 || i==13 
                            || i==14 || i==15 || i==16 || i==17 || i==20 || i==21 || i==22 || i==23 || i==24 || i==25 || i==26 || i==27)
                        {
                            if(((Acode[0]>>i)&1)==1){
                                eval('document.getElementById(\'ST'+i+'\').className=\'color1\';');
                            }else{
                                eval('document.getElementById(\'ST'+i+'\').className=\'color3\';');
                            }
                        }
                    }
            //    }
            //});
        }
        window.onresize = function()
        {
            var bodywidth=document.body.clientWidth;
            if(bodywidth<867){document.body.style.width="867px";}else{document.body.style.width="auto";}
        } 
        function Init()
        {
            jquery_ajax();
            setInterval('jquery_ajax()',1000);
        }
        function pad(num,n)
        {
            var len=num.toString().length;
            while(len++<n)num='0'+num;
            return num;
        }    
    </script>
</html>
